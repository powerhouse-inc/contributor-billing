{
    "author": {
        "name": "Powerhouse",
        "website": "https://powerhouse.inc"
    },
    "description": "The AccountTransactions doc model is designed to track and manage all transactions associated with various accounts. Each transaction entry records critical details such as the source and destination accounts, transaction amount, timestamp, and specific transaction details tailored to the type of transaction (e.g., cryptocurrency or bank-related)",
    "extension": "",
    "id": "powerhouse/account-transactions",
    "name": "AccountTransactions",
    "specifications": [
        {
            "changeLog": [],
            "modules": [
                {
                    "description": "",
                    "id": "account-module-id",
                    "name": "account",
                    "operations": [
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "set-account-op-id",
                            "name": "SET_ACCOUNT",
                            "reducer": "state.account.account = action.input.account;\nstate.account.name = action.input.name;\nstate.account.budgetPath = action.input.budgetPath || null;\nstate.account.accountTransactionsId = action.input.accountTransactionsId || null;\nstate.account.chain = action.input.chain || null;\nstate.account.type = action.input.type || null;\nstate.account.owners = action.input.owners || null;\nstate.account.KycAmlStatus = action.input.KycAmlStatus || null;",
                            "schema": "input SetAccountInput {\n    id: OID!\n    account: String!\n    name: String!\n    budgetPath: String\n    accountTransactionsId: PHID\n    chain: [String!]\n    type: String\n    owners: [String!]\n    KycAmlStatus: String\n}",
                            "scope": "global",
                            "template": ""
                        }
                    ]
                },
                {
                    "description": "",
                    "id": "transactions-module-id",
                    "name": "transactions",
                    "operations": [
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "add-transaction-op-id",
                            "name": "ADD_TRANSACTION",
                            "reducer": "",
                            "schema": "input AddTransactionInput {\n    id: ID!\n    counterParty: EthereumAddress\n    amount: Amount_Currency!\n    datetime: DateTime!\n    txHash: String!\n    token: Currency!\n    blockNumber: Int\n    uniqueId: String\n    budget: OID\n    accountingPeriod: String!\n    direction: TransactionDirectionInput!\n}",
                            "scope": "global",
                            "template": ""
                        },
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "update-transaction-op-id",
                            "name": "UPDATE_TRANSACTION",
                            "reducer": "const transaction = state.transactions.find(\n  (transaction) => transaction.id === action.input.id,\n);\nif (!transaction) {\n  throw new Error(`Transaction with id ${action.input.id} not found`);\n}\nif (\n  action.input.counterParty !== undefined &&\n  action.input.counterParty !== null\n) {\n  transaction.counterParty = action.input.counterParty;\n}\nif (action.input.amount !== undefined && action.input.amount !== null) {\n  transaction.amount = action.input.amount;\n}\nif (\n  action.input.datetime !== undefined &&\n  action.input.datetime !== null\n) {\n  transaction.datetime = action.input.datetime;\n}\nif (action.input.txHash !== undefined && action.input.txHash !== null) {\n  transaction.details.txHash = action.input.txHash;\n}\nif (action.input.token !== undefined && action.input.token !== null) {\n  transaction.details.token = action.input.token;\n}\nif (action.input.blockNumber !== undefined) {\n  transaction.details.blockNumber = action.input.blockNumber;\n}\nif (action.input.uniqueId !== undefined) {\n  transaction.details.uniqueId = action.input.uniqueId;\n}\nif (\n  action.input.direction !== undefined &&\n  action.input.direction !== null\n) {\n  transaction.direction = action.input.direction;\n}",
                            "schema": "input UpdateTransactionInput {\n    id: ID!\n    counterParty: EthereumAddress\n    amount: Amount_Currency\n    datetime: DateTime\n    txHash: String\n    token: Currency\n    blockNumber: Int\n    uniqueId: String\n    budget: OID\n    accountingPeriod: String\n    direction: TransactionDirectionInput\n}",
                            "scope": "global",
                            "template": ""
                        },
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "delete-transaction-op-id",
                            "name": "DELETE_TRANSACTION",
                            "reducer": "state.transactions = state.transactions.filter(\n  (transaction) => transaction.id !== action.input.id,\n);",
                            "schema": "input DeleteTransactionInput {\n    id: ID!\n}",
                            "scope": "global",
                            "template": ""
                        },
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "update-period-op-id",
                            "name": "UPDATE_TRANSACTION_PERIOD",
                            "reducer": "const transaction = state.transactions.find(\n  (transaction) => transaction.id === action.input.id,\n);\nif (!transaction) {\n  throw new Error(`Transaction with id ${action.input.id} not found`);\n}\ntransaction.accountingPeriod = action.input.accountingPeriod || \"\";",
                            "schema": "input UpdateTransactionPeriodInput {\n    id: ID!\n    accountingPeriod: String!\n}",
                            "scope": "global",
                            "template": ""
                        }
                    ]
                },
                {
                    "description": "",
                    "id": "budgets-module-id",
                    "name": "budgets",
                    "operations": [
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "add-budget-op-id",
                            "name": "ADD_BUDGET",
                            "reducer": "state.budgets.push({\n  id: action.input.id,\n  name: action.input.name || null,\n});",
                            "schema": "input AddBudgetInput {\n    id: OID!\n    name: OLabel\n}",
                            "scope": "global",
                            "template": ""
                        },
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "update-budget-op-id",
                            "name": "UPDATE_BUDGET",
                            "reducer": "const budget = state.budgets.find(\n  (budget) => budget.id === action.input.id,\n);\nif (!budget) {\n  throw new Error(`Budget with id ${action.input.id} not found`);\n}\nif (action.input.name !== undefined && action.input.name !== null) {\n  budget.name = action.input.name;\n}",
                            "schema": "input UpdateBudgetInput {\n    id: OID!\n    name: OLabel\n}",
                            "scope": "global",
                            "template": ""
                        },
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "delete-budget-op-id",
                            "name": "DELETE_BUDGET",
                            "reducer": "state.budgets = state.budgets.filter(\n  (budget) => budget.id !== action.input.id,\n);",
                            "schema": "input DeleteBudgetInput {\n    id: OID!\n}",
                            "scope": "global",
                            "template": ""
                        }
                    ]
                }
            ],
            "state": {
                "global": {
                    "examples": [],
                    "initialValue": "{\n  \"account\": {\n    \"id\": \"\",\n    \"account\": \"\",\n    \"name\": \"\",\n    \"budgetPath\": null,\n    \"accountTransactionsId\": null,\n    \"chain\": null,\n    \"type\": null,\n    \"owners\": null,\n    \"KycAmlStatus\": null\n  },\n  \"transactions\": [],\n  \"budgets\": []\n}",
                    "schema": "type AccountTransactionsState {\n  account: Account!\n  transactions: [TransactionEntry!]!\n  budgets: [Budget!]!\n}\n\ntype Account {\n    id: OID!\n    account: String!\n    name: String!\n    budgetPath: String\n    accountTransactionsId: PHID\n    chain: [String!]\n    type: String\n    owners: [String!]\n    KycAmlStatus: String\n}\n\ntype TransactionDetails {\n    txHash: String!\n    token: Currency!\n    blockNumber: Int\n    uniqueId: String\n}\n\ntype TransactionEntry {\n    id: ID!\n    counterParty: EthereumAddress\n    amount: Amount_Currency!\n    datetime: DateTime!\n    details: TransactionDetails!\n    budget: OID\n    accountingPeriod: String!\n    direction: TransactionDirection!\n}\n\ntype Budget {\n    id: OID!\n    name: OLabel\n}\n\nenum TransactionDirection {\n    INFLOW\n    OUTFLOW\n}\n\nenum TransactionDirectionInput {\n    INFLOW\n    OUTFLOW\n}"
                },
                "local": {
                    "examples": [],
                    "initialValue": "",
                    "schema": ""
                }
            },
            "version": 1
        }
    ]
}